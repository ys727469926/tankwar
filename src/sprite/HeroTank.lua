---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by yangsen.
--- DateTime: 2018/8/12 12:07
---


--CategoryBitmask
local HERO = 1                  --0001
local HERO_BULLET = 2           --0010
local ENEMY = 4                 --0100
local ENEMY_BULLET = 8          --1000

--ContactBitmask
local HERO_CONTACT = 12         --1100
local HERO_BULLET_CONTACT = 4   --0100
local ENEMY_CONTACT = 3         --0011
local ENEMY_BULLET_CONTACT = 1  --0001

local Tank = require("sprite.Tank")

local HeroTank = class("HeroTank", Tank)

function HeroTank:ctor()

    self.super:ctor()
    --添加精灵图片
    local spriteFrame = cc.SpriteFrameCache:getInstance()
    spriteFrame:addSpriteFrames("qing_tank.plist")
    self:setSpriteFrame("tank_hero_1.png")

    local function onNodeEvent(tag)
        if tag == "enter" then
            self:onEnter()
        elseif tag == "exit" then
            self:onExit()
        end
    end

    self:registerScriptHandler(onNodeEvent)
end

function HeroTank:onEnter()
    --渲染移动动画
    self:renderMoveAnimation(HERO)
    --添加物理刚体
    self:renderPhysicsBody(HERO, HERO_CONTACT)
    self:renderBoomAnimation()
end

return HeroTank